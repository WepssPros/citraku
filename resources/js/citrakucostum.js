const kecMarker = {
    alambarajo: { lat: -1.6473906, lng: 103.55709 },
    kotabaru: { lat: -1.6473206, lng: 103.601456 },
    jelutung: { lat: -1.6102926, lng: 103.605679 },
    danausipin: { lat: -1.5995896, lng: 103.586936 },
    danauteluk: { lat: -1.5711866, lng: 103.589703 },
    telanaipura: { lat: -1.5919696, lng: 103.557281 },
    pelayangan: { lat: -1.5603186, lng: 103.621408 },
    pasar: { lat: -1.5945256, lng: 103.61002 },
    jambitimur: { lat: -1.5873176, lng: 103.633583 },
    jambiselatan: { lat: -1.6181206, lng: 103.630278 },
    paalmerah: { lat: -1.6369376, lng: 103.648698 },
};

const kecColor = {
    alambarajo: "#008000",
    kotabaru: "#004080",
    jelutung: "#4b0082",
    danausipin: "#0000ff",
    danauteluk: "#ffff00",
    telanaipura: "#80c000",
    pelayangan: "#ffd200",
    pasar: "#2600c1",
    jambitimur: "#ff5300",
    jambiselatan: "#ffa500",
    paalmerah: "#ff0000",
};
// TUTUP KECAMATAN

// Kelurahan Maker
const kelurahan = {
    arabmelayu: [
        { lng: 103.610748033844, lat: -1.5861547792616477 },
        { lng: 103.61039266281932, lat: -1.5857690956640909 },
        { lng: 103.61189537458358, lat: -1.5851804205612439 },
        { lng: 103.6115806173907, lat: -1.5845714461405578 },
        { lng: 103.61213905757262, lat: -1.5844192025072203 },
        { lng: 103.61166184505254, lat: -1.5835970866952636 },
        { lng: 103.61207813682705, lat: -1.582906915146367 },
        { lng: 103.61219997832069, lat: -1.5823283888165491 },
        { lng: 103.61205782991118, lat: -1.5823080896439876 },
        { lng: 103.61206798336912, lat: -1.5821761450184653 },
        { lng: 103.61146892935352, lat: -1.5821050979093343 },
        { lng: 103.61291864564794, lat: -1.579845006751583 },
        { lng: 103.61353245639151, lat: -1.5794173618396883 },
        { lng: 103.61409046615967, lat: -1.5786922246133344 },
        { lng: 103.61407186583398, lat: -1.57794849386282 },
        { lng: 103.61461127527468, lat: -1.5782273929251005 },
        { lng: 103.6148158788559, lat: -1.5779670871349794 },
        { lng: 103.61615510229745, lat: -1.5770002367694218 },
        { lng: 103.61658290978556, lat: -1.576925863646096 },
        { lng: 103.61707395618663, lat: -1.576910577111434 },
        { lng: 103.61921884919911, lat: -1.5784221350826897 },
        { lng: 103.62047940792786, lat: -1.5790701763416308 },
        { lng: 103.62110968729218, lat: -1.5792501877671725 },
        { lng: 103.62011164622982, lat: -1.5811275443178232 },
        { lng: 103.61883476407996, lat: -1.5830816326697743 },
        { lng: 103.61863038621425, lat: -1.58353401087642 },
        { lng: 103.61671799332987, lat: -1.585110037407432 },
        { lng: 103.61397349056483, lat: -1.5858542717416242 },
        { lng: 103.61223627870794, lat: -1.5860877569681548 },
        { lng: 103.61074561558632, lat: -1.5861532504779063 },
    ],
    baganpete: [
        { lat: -1.6817545903587643, lng: 103.54291497201183 },
        { lat: -1.6761530376783185, lng: 103.52403832357311 },
        { lat: -1.6664791009888091, lng: 103.52852523136409 },
        { lat: -1.6572440639158543, lng: 103.53090466334089 },
        { lat: -1.6497005487794212, lng: 103.52670344424695 },
        { lat: -1.6454586414553205, lng: 103.53665017621813 },
        { lat: -1.6461952511500755, lng: 103.54048897604213 },
        { lat: -1.6457330290036793, lng: 103.54139135125433 },
        { lat: -1.6469841877558196, lng: 103.54392707005252 },
        { lat: -1.6476621627095227, lng: 103.54819623365239 },
        { lat: -1.642851687969042, lng: 103.54773217270099 },
        { lat: -1.639836331960808, lng: 103.54823231056355 },
        { lat: -1.638210626135404, lng: 103.54888743640919 },
        { lat: -1.6371188559283354, lng: 103.5496051969186 },
        { lat: -1.6361881050653864, lng: 103.54959420019378 },
        { lat: -1.6384058506816075, lng: 103.55392236672395 },
        { lat: -1.6392187407212901, lng: 103.5548896101846 },
        { lat: -1.640561105990571, lng: 103.55540582467381 },
        { lat: -1.6416448902515128, lng: 103.55569661091948 },
        { lat: -1.6428749087692154, lng: 103.55731314012752 },
        { lat: -1.6421136517953983, lng: 103.55806776272618 },
        { lat: -1.6420272013774024, lng: 103.55853596137996 },
        { lat: -1.6402869985732593, lng: 103.56034758551243 },
        { lat: -1.6392458240941892, lng: 103.56076146763013 },
        { lat: -1.6376289961286261, lng: 103.5621426910281 },
        { lat: -1.6358840328517346, lng: 103.56241313454024 },
        { lat: -1.634454845299345, lng: 103.56432615569014 },
        { lat: -1.632431267145705, lng: 103.56537565637524 },
        { lat: -1.6320710054956322, lng: 103.56599236586862 },
        { lat: -1.6324737569358376, lng: 103.56672854853116 },
        { lat: -1.6321589590093168, lng: 103.56693073730582 },
        { lat: -1.6326676636164308, lng: 103.56706806096605 },
        { lat: -1.6327969521473875, lng: 103.56733423466989 },
        { lat: -1.633134334133345, lng: 103.56687091501624 },
        { lat: -1.6335220725126618, lng: 103.56696384249483 },
        { lat: -1.633784201755816, lng: 103.56786707816764 },
        { lat: -1.6339976771893987, lng: 103.56810938137653 },
        { lat: -1.6342843570463117, lng: 103.56816714845934 },
        { lat: -1.6350474102866315, lng: 103.56791766664071 },
        { lat: -1.6361073539288782, lng: 103.56861354119866 },
        { lat: -1.636777274717673, lng: 103.56850524232755 },
        { lat: -1.6373039369526055, lng: 103.5676816854027 },
        { lat: -1.6385881067909054, lng: 103.56823231374517 },
        { lat: -1.6387374011683704, lng: 103.56852990474499 },
        { lat: -1.639365278745359, lng: 103.56870969201509 },
        { lat: -1.6395342893372487, lng: 103.56936811539123 },
        { lat: -1.6398185162155698, lng: 103.57002339716803 },
        { lat: -1.641115755440481, lng: 103.57153221183074 },
        { lat: -1.6427617766876494, lng: 103.57242582219811 },
        { lat: -1.6438423314752413, lng: 103.57343109279702 },
        { lat: -1.645811577706425, lng: 103.57394426050416 },
        { lat: -1.6465019159073648, lng: 103.57368345707812 },
        { lat: -1.6466893134013532, lng: 103.57206585830988 },
        { lat: -1.6481077389892818, lng: 103.5706723535763 },
        { lat: -1.6498360328136101, lng: 103.57115142259602 },
        { lat: -1.6553117160739248, lng: 103.57015202733442 },
        { lat: -1.6562462931249655, lng: 103.56869187233184 },
        { lat: -1.656486365426531, lng: 103.56892763688768 },
        { lat: -1.6581132690201343, lng: 103.56557511318636 },
        { lat: -1.6602395014029554, lng: 103.56536473600659 },
        { lat: -1.660232574163956, lng: 103.56618050769629 },
        { lat: -1.6615593119549175, lng: 103.56592500059884 },
        { lat: -1.6619057936549666, lng: 103.56666351508494 },
        { lat: -1.6667639440701407, lng: 103.56842294378714 },
        { lat: -1.6696651328278165, lng: 103.57090388419596 },
        { lat: -1.671868094250911, lng: 103.56847592896457 },
        { lat: -1.6806018734810806, lng: 103.56833385193414 },
        { lat: -1.6800188240004843, lng: 103.54793113624532 },
        { lat: -1.6817544478217172, lng: 103.54291464851639 },
    ],
    bringin: [
        { lat: -1.599857449951088, lng: 103.60642061437977 },
        { lat: -1.5994473332891062, lng: 103.60689999014232 },
        { lat: -1.598834316652173, lng: 103.6078371481629 },
        { lat: -1.5990544846204386, lng: 103.60796239047846 },
        { lat: -1.5995638927698934, lng: 103.60802285228675 },
        { lat: -1.5995631819626794, lng: 103.60802418092442 },
        { lat: -1.5998211568046798, lng: 103.60815197788781 },
        { lat: -1.5999966976456506, lng: 103.60835811620643 },
        { lat: -1.599905326692479, lng: 103.60855754876445 },
        { lat: -1.60000500409582, lng: 103.6087043532878 },
        { lat: -1.5999274772271974, lng: 103.60874867163443 },
        { lat: -1.600076993328969, lng: 103.60915307654443 },
        { lat: -1.6000133105457053, lng: 103.60921401427112 },
        { lat: -1.5999191707764453, lng: 103.60920570458114 },
        { lat: -1.5998776385234663, lng: 103.6095491717661 },
        { lat: -1.5997032030529539, lng: 103.61009207150875 },
        { lat: -1.5995909651228715, lng: 103.61068036769251 },
        { lat: -1.5995949471631548, lng: 103.6106742480186 },
        { lat: -1.5995907339567168, lng: 103.6111210219978 },
        { lat: -1.599978348908806, lng: 103.61146663960369 },
        { lat: -1.5998098206775069, lng: 103.61153407718587 },
        { lat: -1.599746622587702, lng: 103.61165209295325 },
        { lat: -1.5998982980003404, lng: 103.61173217508218 },
        { lat: -1.5998688055603054, lng: 103.61183333145402 },
        { lat: -1.599746622587702, lng: 103.61179118296513 },
        { lat: -1.5996412924331338, lng: 103.6116478781044 },
        { lat: -1.5995991603695359, lng: 103.61160994446442 },
        { lat: -1.599498043414087, lng: 103.61161415931326 },
        { lat: -1.5993505811787827, lng: 103.61153829203477 },
        { lat: -1.5992621038323733, lng: 103.61155515143037 },
        { lat: -1.5989292604469085, lng: 103.61184176115177 },
        { lat: -1.598887128368645, lng: 103.6119218432807 },
        { lat: -1.5989166208234877, lng: 103.61205671844357 },
        { lat: -1.5988702755378483, lng: 103.61214523027024 },
        { lat: -1.5986469755084158, lng: 103.61228432028219 },
        { lat: -1.5985163660483437, lng: 103.6122463866418 },
        { lat: -1.5983646905328754, lng: 103.6123686172595 },
        { lat: -1.598360477323908, lng: 103.61270159031875 },
        { lat: -1.598267786725728, lng: 103.61278588729658 },
        { lat: -1.5980234205825923, lng: 103.61283646548173 },
        { lat: -1.597863318611573, lng: 103.61305985247134 },
        { lat: -1.5977706279908546, lng: 103.61307671186694 },
        { lat: -1.5974293579419623, lng: 103.6129924148907 },
        { lat: -1.5972734691357715, lng: 103.61296712579724 },
        { lat: -1.5969764105571187, lng: 103.61284869217593 },
        { lat: -1.5965373340528117, lng: 103.61277645098824 },
        { lat: -1.5962761148518325, lng: 103.61270901340595 },
        { lat: -1.5961960637997663, lng: 103.61257413824302 },
        { lat: -1.5962634752121119, lng: 103.61240132943857 },
        { lat: -1.5961707845192734, lng: 103.6121695127527 },
        { lat: -1.5960401748992865, lng: 103.61214000881051 },
        { lat: -1.5959685502657948, lng: 103.6121484385082 },
        { lat: -1.5958084481328996, lng: 103.61206835637518 },
        { lat: -1.595610427058375, lng: 103.61185339908337 },
        { lat: -1.5955388024098767, lng: 103.61160472300043 },
        { lat: -1.5953871266746518, lng: 103.61148249238414 },
        { lat: -1.5952523037903177, lng: 103.61144455874415 },
        { lat: -1.5949700183459896, lng: 103.61154150026857 },
        { lat: -1.5948014897046932, lng: 103.61174802786263 },
        { lat: -1.5946624535656184, lng: 103.61207678607713 },
        { lat: -1.594531843849822, lng: 103.61216529790386 },
        { lat: -1.5940304709939, lng: 103.612005133646 },
        { lat: -1.5936512813586603, lng: 103.61207257122669 },
        { lat: -1.5934827526094182, lng: 103.61207678607559 },
        { lat: -1.5925094988114097, lng: 103.61197984455112 },
        { lat: -1.5922609187628893, lng: 103.61185339908599 },
        { lat: -1.5919533535760308, lng: 103.61194612576304 },
        { lat: -1.5918606626892142, lng: 103.61207678607713 },
        { lat: -1.5916879205701662, lng: 103.61226223942674 },
        { lat: -1.5914941123223514, lng: 103.61240554428741 },
        { lat: -1.5914856858763216, lng: 103.61250670066084 },
        { lat: -1.5914140610844356, lng: 103.61263736097487 },
        { lat: -1.591165480904607, lng: 103.61277223613934 },
        { lat: -1.5908789816760418, lng: 103.61281016977784 },
        { lat: -1.590685173353151, lng: 103.61281859947553 },
        { lat: -1.5906430411061052, lng: 103.61273851734819 },
        { lat: -1.5894906537380393, lng: 103.61304855763564 },
        { lat: -1.5891004403407862, lng: 103.61262223953281 },
        { lat: -1.589023424530339, lng: 103.61235514867275 },
        { lat: -1.5890799027913545, lng: 103.61202642145997 },
        { lat: -1.5890694565974144, lng: 103.60988570059641 },
        { lat: -1.589071182890848, lng: 103.60988851708868 },
        { lat: -1.5898516093435546, lng: 103.60964834292463 },
        { lat: -1.5920479446269837, lng: 103.61025971528773 },
        { lat: -1.5922851984512505, lng: 103.60946065225079 },
        { lat: -1.592546177623916, lng: 103.60908881103575 },
        { lat: -1.593655940685906, lng: 103.60907037368287 },
        { lat: -1.5940452460890668, lng: 103.60879143892168 },
        { lat: -1.594566073474212, lng: 103.60882301644017 },
        { lat: -1.5949816831094523, lng: 103.60863881423717 },
        { lat: -1.5958602500379016, lng: 103.60747570891414 },
        { lat: -1.5998581656687492, lng: 103.60642023018193 },
    ],
    jelutung: [
        { lat: -1.6109469707393913, lng: 103.61916000469813 },
        { lat: -1.6155292568691237, lng: 103.62262981436737 },
        { lat: -1.6162929007619908, lng: 103.62305296774849 },
        { lat: -1.6167734251521182, lng: 103.62344958958454 },
        { lat: -1.6169754983154974, lng: 103.6229810306395 },
        { lat: -1.6169316651292007, lng: 103.62271593354188 },
        { lat: -1.6171134732271497, lng: 103.62250016842262 },
        { lat: -1.617214588409027, lng: 103.62250515145053 },
        { lat: -1.6179928530880687, lng: 103.62167551691067 },
        { lat: -1.6193233545767498, lng: 103.62066482459147 },
        { lat: -1.6181327617899797, lng: 103.61959596629816 },
        { lat: -1.618473901917426, lng: 103.6177478241583 },
        { lat: -1.618804551196618, lng: 103.61773995349347 },
        { lat: -1.6200877517613748, lng: 103.61458710130245 },
        { lat: -1.62185904709591, lng: 103.61270221139364 },
        { lat: -1.6242452818101327, lng: 103.6116148992541 },
        { lat: -1.6235469808112413, lng: 103.6103999747981 },
        { lat: -1.6236949902825302, lng: 103.61031644874276 },
        { lat: -1.6234710785145126, lng: 103.60981908904324 },
        { lat: -1.6239037215691923, lng: 103.60957230751245 },
        { lat: -1.6236684244808117, lng: 103.60950776465097 },
        { lat: -1.6231484937196399, lng: 103.60900281167426 },
        { lat: -1.6228638600341014, lng: 103.60895725200788 },
        { lat: -1.621960622208789, lng: 103.6085244351699 },
        { lat: -1.621846768673393, lng: 103.60879399653385 },
        { lat: -1.6213685653547998, lng: 103.60863833049086 },
        { lat: -1.6214368774935224, lng: 103.60818273381972 },
        { lat: -1.621281277618067, lng: 103.60830802290337 },
        { lat: -1.6207158048035666, lng: 103.60836497248755 },
        { lat: -1.620237619615267, lng: 103.6082586665978 },
        { lat: -1.6199833464927593, lng: 103.60826625987647 },
        { lat: -1.6194899806417595, lng: 103.60857378762807 },
        { lat: -1.6194406440490638, lng: 103.60879019604704 },
        { lat: -1.6194330538046984, lng: 103.60901799438261 },
        { lat: -1.619372331844474, lng: 103.60913189355114 },
        { lat: -1.6191977561965984, lng: 103.60916985994015 },
        { lat: -1.6190839025044852, lng: 103.60913189355114 },
        { lat: -1.6189890240389815, lng: 103.60891168830216 },
        { lat: -1.61888655570543, lng: 103.6088661286359 },
        { lat: -1.6187385458839714, lng: 103.6089002983856 },
        { lat: -1.618639872662186, lng: 103.60907114713694 },
        { lat: -1.6183362627210869, lng: 103.6090863336928 },
        { lat: -1.6180364478585858, lng: 103.6089572479699 },
        { lat: -1.6180364478585858, lng: 103.60912430008187 },
        { lat: -1.617801150088468, lng: 103.60940904800168 },
        { lat: -1.6175924181727481, lng: 103.60929894547246 },
        { lat: -1.617497540021759, lng: 103.60867629668934 },
        { lat: -1.617307783706508, lng: 103.60848646474278 },
        { lat: -1.6173685057286065, lng: 103.6081333773235 },
        { lat: -1.6172926032003545, lng: 103.60767778065235 },
        { lat: -1.6173115788334087, lng: 103.60686529992262 },
        { lat: -1.61712561762792, lng: 103.60674760411621 },
        { lat: -1.617273627568565, lng: 103.60560101916104 },
        { lat: -1.617205308740651, lng: 103.6054453530125 },
        { lat: -1.6166626055550068, lng: 103.60493660339637 },
        { lat: -1.616480439418595, lng: 103.60539599670693 },
        { lat: -1.6153608763431748, lng: 103.60567694798601 },
        { lat: -1.6145676934948057, lng: 103.60550230199942 },
        { lat: -1.6143551661143931, lng: 103.60569972722323 },
        { lat: -1.614347575851042, lng: 103.6059465087526 },
        { lat: -1.613524032038967, lng: 103.60732089204333 },
        { lat: -1.6132507830262455, lng: 103.60750693385341 },
        { lat: -1.6128978355294095, lng: 103.60789798766325 },
        { lat: -1.6131103630620913, lng: 103.60833460113918 },
        { lat: -1.612427238770195, lng: 103.60860416250313 },
        { lat: -1.6123399506503802, lng: 103.60879779108751 },
        { lat: -1.6121084473557943, lng: 103.60877880789371 },
        { lat: -1.6120553154484725, lng: 103.60881297764348 },
        { lat: -1.611979412721908, lng: 103.6087522314213 },
        { lat: -1.6117592947965562, lng: 103.60913569195236 },
        { lat: -1.6115619476718877, lng: 103.60897243647827 },
        { lat: -1.6113683939020973, lng: 103.61068092794204 },
        { lat: -1.611402550140653, lng: 103.61081001366495 },
        { lat: -1.6113000814246305, lng: 103.61158832464497 },
        { lat: -1.611049602321927, lng: 103.61180473306399 },
        { lat: -1.6108067134649673, lng: 103.61167944397897 },
        { lat: -1.6107497863861369, lng: 103.61263619698758 },
        { lat: -1.611015446078838, lng: 103.61274250287732 },
        { lat: -1.6108408697130443, lng: 103.61361572983071 },
        { lat: -1.610894001651971, lng: 103.61384732480423 },
        { lat: -1.6108143043983176, lng: 103.61399538342795 },
        { lat: -1.6108370752293695, lng: 103.61431472657635 },
        { lat: -1.6105126185577272, lng: 103.61477311988691 },
        { lat: -1.6106798822511033, lng: 103.6152297165575 },
        { lat: -1.6107545413525923, lng: 103.61565938043519 },
        { lat: -1.6106065319327675, lng: 103.61588707118679 },
        { lat: -1.6105636980217617, lng: 103.61637296113699 },
        { lat: -1.610503975786519, lng: 103.61711206480382 },
        { lat: -1.610944115692924, lng: 103.61740926668842 },
        { lat: -1.6109748587634067, lng: 103.6176319169824 },
        { lat: -1.6108670348599445, lng: 103.61818611688641 },
        { lat: -1.6107210662541183, lng: 103.61859756031474 },
        { lat: -1.6107137057726022, lng: 103.61885361225784 },
        { lat: -1.6108248184081127, lng: 103.61902657068916 },
        { lat: -1.6109469707393913, lng: 103.61916000469813 }, // Titik pertama juga sebagai titik terakhir
    ],
    kebunhandil: [
        { lng: 103.6177709740976, lat: -1.6184692170225219 },
        { lng: 103.61958167888594, lat: -1.618143826896599 },
        { lng: 103.62066674542518, lat: -1.6193098079397004 },
        { lng: 103.62163652364507, lat: -1.6180963741663419 },
        { lng: 103.6228843501674, lat: -1.6189437441964571 },
        { lng: 103.62331837678295, lat: -1.6185709014263665 },
        { lng: 103.62431528166644, lat: -1.6202385249187614 },
        { lng: 103.62424068334224, lat: -1.6203266513233672 },
        { lng: 103.62333194011421, lat: -1.6208400813453352 },
        { lng: 103.62272065625109, lat: -1.6213058735323784 },
        { lng: 103.62227973018543, lat: -1.6219018870373958 },
        { lng: 103.62189739258503, lat: -1.6231290449841822 },
        { lng: 103.62164561112274, lat: -1.6241760353357364 },
        { lng: 103.62221934922911, lat: -1.6244134834756068 },
        { lng: 103.62267541240385, lat: -1.6243491239594476 },
        { lng: 103.62298757073171, lat: -1.6242612212259928 },
        { lng: 103.62315146499259, lat: -1.624482871415637 },
        { lng: 103.62313218331457, lat: -1.624608151946319 },
        { lng: 103.6232350189307, lat: -1.62471094622191 },
        { lng: 103.62326715506072, lat: -1.624826589776987 },
        { lng: 103.62323180531769, lat: -1.6248619253052823 },
        { lng: 103.62382311010225, lat: -1.6253084378474085 },
        { lng: 103.62339248596498, lat: -1.6259733879964386 },
        { lng: 103.62282363176809, lat: -1.6274506931852528 },
        { lng: 103.62219599606215, lat: -1.6284481606705157 },
        { lng: 103.62285586881956, lat: -1.6287120673574549 },
        { lng: 103.62379545739628, lat: -1.6290812361708902 },
        { lng: 103.62463185416141, lat: -1.6289726571152698 },
        { lng: 103.62501746565863, lat: -1.6289129386325953 },
        { lng: 103.62513695090996, lat: -1.6295644128969542 },
        { lng: 103.62417078334454, lat: -1.6311313988493907 },
        { lng: 103.62403415890088, lat: -1.631066365952364 },
        { lng: 103.62341934890395, lat: -1.6312029350350201 },
        { lng: 103.62289236890484, lat: -1.631372020553414 },
        { lng: 103.6220531044641, lat: -1.6314207952198245 },
        { lng: 103.62092432632107, lat: -1.6314012853521689 },
        { lng: 103.6208852907655, lat: -1.6315183445467767 },
        { lng: 103.62025421595371, lat: -1.6314825764599306 },
        { lng: 103.6179999126291, lat: -1.6312484580596873 },
        { lng: 103.61683860485721, lat: -1.6311183922698405 },
        { lng: 103.61580090967755, lat: -1.6311411537827212 },
        { lng: 103.61504622227278, lat: -1.6312029350337696 },
        { lng: 103.61487381523648, lat: -1.6306729168743175 },
        { lng: 103.61429287844777, lat: -1.6296570507651182 },
        { lng: 103.61287925642938, lat: -1.6274939442492808 },
        { lng: 103.61191450964975, lat: -1.6260942858548901 },
        { lng: 103.61154602997749, lat: -1.6243262949182764 },
        { lng: 103.61225619080187, lat: -1.622919937385774 },
        { lng: 103.61263806973534, lat: -1.6219756682096147 },
        { lng: 103.61335493018834, lat: -1.6212256101098461 },
        { lng: 103.61393779803706, lat: -1.620703248052223 },
        { lng: 103.61449386736024, lat: -1.6201340071979615 },
        { lng: 103.6162223720064, lat: -1.61946431186972 },
        { lng: 103.61778338589033, lat: -1.6187812224088418 },
        { lng: 103.61777107667285, lat: -1.6184690243190687 },
    ],

    kasang: [],
    kasangjaya: [],
    kenaliasamatas: [],
    kenaliasambawah: [],
    kenalibesar: [],
    legok: [],
    paallima: [],
    pasirputih: [],
    payoselincah: [],
    rajawali: [],
    rawasari: [],
    selamat: [],
    simpangIVsipin: [],
    sulanjana: [],
    sungaiputri: [],
    tahtulyaman: [],
    talangbanjar: [],
    tambaksari: [],
    tanjungjohor: [],
    tanjungpinang: [],
    tanjungraden: [],
    tanjungsari: [],
    wijayapura: [],
};
// Kelurahan maker

const rT = {
    rT01: [
        { lat: -1.61, lng: 103.605 },
        { lat: -1.611, lng: 103.606 },
        { lat: -1.61, lng: 103.607 },
    ],
    rT02: [
        { lat: -1.612, lng: 103.608 },
        { lat: -1.613, lng: 103.609 },
        { lat: -1.612, lng: 103.61 },
    ],
    rT03: [],
    rT04: [],
    rT05: [],
    rT06: [],
    rT07: [],
    rT08: [],
    rT09: [],
    rT10: [],
    rt11: [
        { lng: 103.61684581672858, lat: -1.5830514993502476 },
        { lng: 103.6166758229362, lat: -1.5823824041551688 },
        { lng: 103.61554961406102, lat: -1.5815964825388278 },
        { lng: 103.61432778367697, lat: -1.5810123514152679 },
        { lng: 103.61376467924015, lat: -1.5809380074421853 },
        { lng: 103.61298908256168, lat: -1.5806724932314324 },
        { lng: 103.61277659032163, lat: -1.5804494612677331 },
        { lng: 103.61190790335007, lat: -1.5818894651214066 },
        { lng: 103.61186544685091, lat: -1.5822183775615883 },
        { lng: 103.61494354301215, lat: -1.582738271312138 },
        { lng: 103.61572898824062, lat: -1.5835764670848675 },
        { lng: 103.61688592357598, lat: -1.5831096251317405 },
    ],

    rT12: [],
    rT13: [],
    rT14: [],
    rT15: [],
    rT16: [],
    rT17: [],
    rT18: [],
    rT19: [],
    rT20: [],
};

const area = {
    rt11: [
        // Area 1
        [
            { lng: 103.6172123845812, lat: -1.5825899506678809 },
            { lng: 103.61709475348073, lat: -1.5824645253525347 },
            { lng: 103.61725159494722, lat: -1.5822450310327412 },
            { lng: 103.61701633274754, lat: -1.582064732109302 },
            { lng: 103.61678891262159, lat: -1.5821901574488209 },
            { lng: 103.61663207115521, lat: -1.5824096517744977 },
            { lng: 103.61656149249563, lat: -1.5822215137828124 },
            { lng: 103.61639680895553, lat: -1.582064732109302 },
            { lng: 103.61637328273571, lat: -1.581798203236886 },
            { lng: 103.61611449431626, lat: -1.581806042322171 },
            { lng: 103.61581649553074, lat: -1.5819236285925484 },
            { lng: 103.61537733942504, lat: -1.581915789508841 },
            { lng: 103.61521265588607, lat: -1.58168845604402 },
            { lng: 103.61533028698528, lat: -1.5812416281295327 },
            { lng: 103.6150087619788, lat: -1.5812729844778772 },
            { lng: 103.61464802660629, lat: -1.5817825250673678 },
            { lng: 103.61469507904718, lat: -1.5819785021834605 },
            { lng: 103.61506365649217, lat: -1.5821117666123712 },
            { lng: 103.61527539247191, lat: -1.5823547781949685 },
            { lng: 103.61510286685939, lat: -1.5827937667893366 },
            { lng: 103.6153538132051, lat: -1.583115169094711 },
            { lng: 103.6156596540643, lat: -1.5835698356841732 },
            { lng: 103.61647522968877, lat: -1.583232755290794 },
            { lng: 103.61702417482127, lat: -1.5829191920859529 },
            { lng: 103.6171967004338, lat: -1.582574272504317 },
        ],
        // Area 2
        [
            { lng: 103.61207582653424, lat: -1.5821901571663375 },
            { lng: 103.61213856312116, lat: -1.5819001110564699 },
            { lng: 103.61274240276595, lat: -1.5820333754904539 },
            { lng: 103.61271887654601, lat: -1.5818922719726913 },
            { lng: 103.61242871983302, lat: -1.5815943867351479 },
            { lng: 103.61284434971901, lat: -1.5814768004461257 },
            { lng: 103.61311882228574, lat: -1.5815159958761456 },
            { lng: 103.61347171558464, lat: -1.5816649385065062 },
            { lng: 103.61372266193041, lat: -1.5815473522203547 },
            { lng: 103.61396576620376, lat: -1.5818609156336976 },
            { lng: 103.61362855705107, lat: -1.582127444498056 },
            { lng: 103.61393439791021, lat: -1.5821979962501729 },
            { lng: 103.61414613389002, lat: -1.5822450307502152 },
            { lng: 103.61434218572248, lat: -1.58187659380269 },
            { lng: 103.61463234243553, lat: -1.5819863409855657 },
            { lng: 103.61499307780798, lat: -1.582260708916266 },
            { lng: 103.61468723694878, lat: -1.582676180285759 },
            { lng: 103.61207582653424, lat: -1.5821979962501729 },
        ],
    ],
};
// sungai
const sungai = {};
// danau
const danau = {};

// TIPE DATA
// Inisialisasi peta
var map = L.map("jambi-map").setView([-1.6, 103.6], 12);

// Menambahkan layer Google Maps
var baseMaps = {
    "Google Street": L.tileLayer(
        "https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",
        {
            maxZoom: 20,
            subdomains: ["mt0", "mt1", "mt2", "mt3"],
        }
    ),
    "Google Satellite": L.tileLayer(
        "https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",
        {
            maxZoom: 20,
            subdomains: ["mt0", "mt1", "mt2", "mt3"],
        }
    ),
    "Google Hybrid": L.tileLayer(
        "https://{s}.google.com/vt/lyrs=y&x={x}&y={y}&z={z}",
        {
            maxZoom: 20,
            subdomains: ["mt0", "mt1", "mt2", "mt3"],
        }
    ),
    OpenStreetMap: L.tileLayer(
        "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
        {
            maxZoom: 19,
            attribution: "© OpenStreetMap",
        }
    ),
};

// Layer peta default
baseMaps["OpenStreetMap"].addTo(map);

// Menambahkan kontrol layer dengan tampilan sederhana
var layerControl = L.control({ position: "topright" });

layerControl.onAdd = function (map) {
    var div = L.DomUtil.create("div", "leaflet-control-layers");

    for (var key in baseMaps) {
        // Buat elemen untuk setiap layer
        var imgSrc =
            key === "Google Street"
                ? "https://upload.wikimedia.org/wikipedia/commons/f/f6/Street_View_logo.png"
                : key === "Google Satellite"
                ? "https://upload.wikimedia.org/wikipedia/commons/f/f6/Street_View_logo.png"
                : key === "Google Hybrid"
                ? "https://upload.wikimedia.org/wikipedia/commons/f/f6/Street_View_logo.png"
                : "https://upload.wikimedia.org/wikipedia/commons/f/f6/Street_View_logo.png";

        var label = L.DomUtil.create("label");
        label.innerHTML = `<img src="${imgSrc}" width="30" height="30" title="${key}" style="cursor:pointer;">`;
        label.onclick = (function (layer) {
            return function () {
                // Hapus layer sebelumnya
                map.eachLayer(function (layer) {
                    if (layer instanceof L.TileLayer) {
                        map.removeLayer(layer);
                    }
                });
                // Tambahkan layer yang diklik
                baseMaps[layer].addTo(map);
            };
        })(key);

        div.appendChild(label);
    }

    return div;
};

layerControl.addTo(map);

// Tambah Menu
// Button

// Menambahkan kontrol fokus kecamatan dengan collapse
var kecControl = L.control({ position: "bottomright" });

kecControl.onAdd = function (map) {
    var div = L.DomUtil.create("div", "leaflet-control-kecamatan");
    div.style.background = "rgba(255, 255, 255, 0.9)";
    div.style.borderRadius = "5px";
    div.style.padding = "5px";
    div.style.boxShadow = "0 2px 5px rgba(0, 0, 0, 0.5)";

    var toggleButton = L.DomUtil.create("button", "kec-toggle");
    toggleButton.innerHTML = "Focus Kecamatan";
    toggleButton.style.width = "100%";
    toggleButton.style.cursor = "pointer";
    toggleButton.style.marginBottom = "5px";
    toggleButton.onclick = function () {
        // Toggle visibilitas daftar kecamatan
        var list = div.querySelector(".kec-list");
        if (list.style.display === "none" || list.style.display === "") {
            list.style.display = "block";
        } else {
            list.style.display = "none";
        }
    };

    var listDiv = L.DomUtil.create("div", "kec-list");
    listDiv.style.display = "none"; // Awalnya disembunyikan

    for (var kec in kecMarker) {
        var button = L.DomUtil.create("button", "kec-button");
        button.innerHTML = kec.charAt(0).toUpperCase() + kec.slice(1); // Menampilkan nama kecamatan dengan huruf kapital
        button.style.cursor = "pointer";
        button.style.margin = "2px 0";
        button.onclick = (function (kecamatan) {
            return function () {
                // Fokus peta pada kecamatan yang diklik
                map.setView(
                    [kecMarker[kecamatan].lat, kecMarker[kecamatan].lng],
                    14
                );
            };
        })(kec);

        listDiv.appendChild(button);
    }

    div.appendChild(toggleButton);
    div.appendChild(listDiv);

    return div;
};

kecControl.addTo(map);
// Kumuh

// Menambahkan kontrol fokus RT dengan collapse
var rtControl = L.control({ position: "bottomright" });

rtControl.onAdd = function (map) {
    var div = L.DomUtil.create("div", "leaflet-control-rt");
    div.style.background = "rgba(255, 255, 255, 0.9)";
    div.style.borderRadius = "5px";
    div.style.padding = "5px";
    div.style.boxShadow = "0 2px 5px rgba(0, 0, 0, 0.5)";

    var toggleButton = L.DomUtil.create("button", "rt-toggle");
    toggleButton.innerHTML = "Focus RT";
    toggleButton.style.width = "100%";
    toggleButton.style.cursor = "pointer";
    toggleButton.style.marginBottom = "5px";
    toggleButton.onclick = function () {
        // Toggle visibilitas daftar RT
        var list = div.querySelector(".rt-list");
        if (list.style.display === "none" || list.style.display === "") {
            list.style.display = "block";
        } else {
            list.style.display = "none";
        }
    };

    var listDiv = L.DomUtil.create("div", "rt-list");
    listDiv.style.display = "none"; // Awalnya disembunyikan

    for (var rt in rT) {
        // Hanya menampilkan RT yang memiliki data
        if (rT[rt].length > 0) {
            var button = L.DomUtil.create("button", "rt-button");
            button.innerHTML = `RT ${rt.replace("rT", "")}`; // Menampilkan nama RT
            button.style.cursor = "pointer";
            button.style.margin = "2px 0";
            button.onclick = (function (rtData) {
                return function () {
                    // Fokus peta pada lokasi RT yang diklik
                    const avgLat =
                        rtData.reduce((sum, coord) => sum + coord.lat, 0) /
                        rtData.length;
                    const avgLng =
                        rtData.reduce((sum, coord) => sum + coord.lng, 0) /
                        rtData.length;
                    map.setView([avgLat, avgLng], 14); // Fokus pada titik tengah RT
                };
            })(rT[rt]);

            listDiv.appendChild(button);
        }
    }

    div.appendChild(toggleButton);
    div.appendChild(listDiv);

    return div;
};

rtControl.addTo(map);
// Menambahkan kontrol menu ke peta
// API URL untuk kecamatan
const kecamatanApiUrl = "http://citraku.test/api/kecamatan";

// Array untuk menyimpan polygon dan polyline
const rTPolygons = [];
const kelurahanPolygons = [];
const kelurahanPolylines = [];
var kecPolygons = [];
var kecPolylines = [];

// Mengambil data kecamatan dari API
fetch(kecamatanApiUrl)
    .then((response) => response.json()) // Mengubah respons menjadi JSON
    .then((data) => {
        // Mengiterasi data kecamatan dan membuat layer
        data.forEach((kecamatan) => {
            const id = kecamatan.id;
            const name = kecamatan.nama;

            // Parsing koordinat menjadi array objek
            const coordinates = JSON.parse(kecamatan.koordinat);

            // Membuat polygon kecamatan
            const kecPolygon = createKecamatanLayer(name, coordinates, id);
            kecPolygons.push(kecPolygon); // Menyimpan polygon kecamatan ke dalam array
        });

        // Mengatur bounds peta berdasarkan semua kecamatan
        var bounds = L.latLngBounds();
        kecPolygons.forEach(function (polygon) {
            bounds.extend(polygon.getBounds());
        });
        map.fitBounds(bounds);
    })
    .catch((error) => {
        console.error("Error fetching kecamatan data:", error);
    });

// Fungsi untuk membuat polygon dan polyline Kecamatan
function createKecamatanLayer(name, coordinates, id) {
    // Membuat polygon untuk kecamatan
    var kecPolygon = L.polygon(
        coordinates.map((coord) => [coord.lat, coord.lng]),
        {
            color: kecColor[name] || "blue", // Warna berdasarkan kecColor
            weight: 2,
            opacity: 0.65,
            fillOpacity: 0.3,
        }
    ).addTo(map);

    // Membuat polyline untuk kecamatan
    var polyline = L.polyline(
        coordinates.map((coord) => [coord.lat, coord.lng]),
        {
            color: "black",
            weight: 1,
            opacity: 1,
        }
    ).addTo(map);

    // Event hover untuk polygon kecamatan
    kecPolygon.on("mouseover", function () {
        polyline.setStyle({ color: "blue" }); // Ubah warna polyline saat hover
    });

    kecPolygon.on("mouseout", function () {
        polyline.setStyle({ color: "black" }); // Kembalikan warna polyline saat mouse keluar
    });

    // Marker untuk kecamatan
    const marker = L.marker([coordinates[0].lat, coordinates[0].lng]).addTo(
        map
    );
    marker.bindPopup(`<b>Kecamatan: ${name}</b>`).openPopup();
    kecMarker[name] = marker;

    // Event click untuk menampilkan modal kecamatan
    kecPolygon.on("click", function () {
        $("#kecamatanModal" + id).modal("show"); // Menampilkan modal dengan ID spesifik
    });

    // Mengembalikan objek polygon
    return kecPolygon;
}

// Fungsi untuk membuat polygon dan polyline Kelurahan
function createKelurahanLayer(name, coordinates) {
    const polygon = L.polygon(
        coordinates.map((coord) => [coord.lat, coord.lng]),
        {
            color: "green",
            weight: 2,
            opacity: 0.65,
            fillOpacity: 0.3,
            interactive: true, // Pastikan polygon bisa di-klik
        }
    ).addTo(map);
    polygon.bringToFront(); // Memastikan kelurahan di depan

    polygon.on("click", function () {
        map.fitBounds(polygon.getBounds());
        $("#kelurahanModal").modal("show"); // Pastikan modal ini ada di HTML
    });

    kelurahanPolygons.push(polygon);
}

// Fungsi untuk membuat polygon dan polyline RT
function createRTLayer(rtName, rtCoordinates, areaCoordinates) {
    areaCoordinates.forEach((coords) => {
        const polygon = L.polygon(
            coords.map((coord) => [coord.lat, coord.lng]),
            {
                color: "blue",
                weight: 1,
                opacity: 0.65,
                fillOpacity: 0.3,
                interactive: true, // Pastikan polygon bisa di-klik
            }
        ).addTo(map);

        polygon.on("click", function () {
            map.fitBounds(polygon.getBounds());
            $("#rtModal").modal("show"); // Pastikan modal ini ada di HTML
        });

        polygon.bringToFront(); // Memastikan RT di depan
        rTPolygons.push(polygon); // Simpan RT polygon
    });
}

// Memanggil fungsi untuk kelurahan
// Membuat layer untuk kecamatan, kelurahan, dan RT
function createLayers(kelurahan, rT, area) {
    // Loop untuk membuat layer kecamatan
    for (const [name, coordinates] of Object.entries(kelurahan)) {
        createKelurahanLayer(name, coordinates);
    }

    // Loop untuk membuat layer RT
    for (const [name, coordinates] of Object.entries(rT)) {
        const correspondingArea = area[name]; // Dapatkan area yang sesuai untuk RT
        if (correspondingArea) {
            createRTLayer(name, coordinates, correspondingArea);
        }
    }
}

// Memanggil fungsi untuk membuat semua layer
createLayers(kelurahan, rT, area);

// Event untuk memperbarui visibilitas polygon berdasarkan level zoom
function updatePolygonVisibility() {
    const zoomLevel = map.getZoom();

    if (zoomLevel < 12) {
        // Tampilkan kecamatan, sembunyikan kelurahan dan RT
        kecPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 1, fillOpacity: 0.6 }); // Kec. terlihat
            polygon.interactive = true; // Pastikan polygon dapat di-klik
            polygon.bringToBack(); // Pastikan kecamatan di belakang
        });
        kelurahanPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 0, fillOpacity: 0 }); // Kelurahan tersembunyi
            polygon.interactive = false; // Nonaktifkan interaksi
        });
        rTPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 0, fillOpacity: 0 }); // RT tersembunyi
            polygon.interactive = false; // Nonaktifkan interaksi
        });

        // Disable polyline kecamatan jika ada
        kecPolylines.forEach((polyline) => {
            polyline.setStyle({ opacity: 1, weight: 0 });
            polyline.interactive = false; // Menyembunyikan polyline
        });
    } else if (zoomLevel >= 12 && zoomLevel < 15) {
        // Tampilkan kelurahan, sembunyikan kecamatan dan RT
        kecPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 0, fillOpacity: 0 }); // Kec. tersembunyi
            polygon.interactive = false; // Nonaktifkan interaksi
        });
        kelurahanPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 1, fillOpacity: 0.6 }); // Kelurahan terlihat
            polygon.interactive = true; // Pastikan polygon dapat di-klik
            polygon.bringToFront(); // Pastikan kelurahan di depan
        });
        rTPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 0, fillOpacity: 0 }); // RT tersembunyi
            polygon.interactive = false; // Nonaktifkan interaksi
        });

        // Disable polyline kecamatan jika ada
        kecPolylines.forEach((polyline) => {
            polyline.setStyle({ opacity: 0, weight: 0 }); // Menyembunyikan polyline
        });
    } else if (zoomLevel >= 15) {
        // Tampilkan RT, sembunyikan kecamatan dan kelurahan
        kecPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 0, fillOpacity: 0 }); // Kec. tersembunyi
            polygon.interactive = false; // Nonaktifkan interaksi
        });
        kelurahanPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 0, fillOpacity: 0 }); // Kelurahan tersembunyi
            polygon.interactive = false; // Nonaktifkan interaksi
        });
        rTPolygons.forEach((polygon) => {
            polygon.setStyle({ opacity: 1, fillOpacity: 0.6 }); // RT terlihat
            polygon.interactive = true; // Pastikan polygon dapat di-klik
            polygon.bringToFront(); // Pastikan RT di depan
        });

        // Disable polyline kelurahan dan kecamatan
        kelurahanPolylines.forEach((polyline) => {
            polyline.setStyle({ opacity: 0, weight: 0 }); // Menyembunyikan polyline
        });
        kecPolylines.forEach((polyline) => {
            polyline.setStyle({ opacity: 0, weight: 0 }); // Menyembunyikan polyline
        });
    }
}

// Event listener untuk perubahan zoom
map.on("zoomend", updatePolygonVisibility);

// Memanggil fungsi awal untuk mengatur visibilitas
updatePolygonVisibility();
